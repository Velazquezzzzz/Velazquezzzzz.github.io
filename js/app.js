// build time: Sat May 20 2023 22:03:55 GMT+0800 (Singapore Standard Time) 
const e={version:"0.2.0",hostname:"https://mcadalove.com",root:"/",statics:"/",favicon:{normal:"assets/favicon.ico",hidden:"assets/failure.ico"},darkmode:!1,auto_dark:{enable:!0,start:20,end:7},auto_scroll:!1,js:{chart:"npm/frappe-charts@1.5.0/dist/frappe-charts.min.iife.min.js",copy_tex:"npm/katex@0.12.0/dist/contrib/copy-tex.min.js",fancybox:"combine/npm/jquery@3.5.1/dist/jquery.min.js,npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js,npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js",echarts:"npm/echarts@5.2.2/dist/echarts.min.js"},css:{valine:"css/comment.css",katex:"npm/katex@0.12.0/dist/katex.min.css",mermaid:"css/mermaid.css",fancybox:"combine/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css,npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"},loader:{start:!1,switch:!1},search:{appID:"JZZ769ALOD",apiKey:"e0698a7463d36cf47eb6826ded6fa55f",indexName:"adalove",hits:{per_page:10}},outime:{enable:!0,days:90},quicklink:{timeout:3e3,priority:!0},playerAPI:"https://api.injahow.cn",disableVL:!1,fireworks:["rgba(255,182,185,.9)","rgba(250,227,217,.9)","rgba(187,222,214,.9)","rgba(138,198,209,.9)"]},t=()=>n("main > .inner").offsetHeight,n=(e,t=document)=>"#"===e[0]?t.getElementById(e.substring(1)):t.querySelector(e);n.all=(e,t=document)=>t.querySelectorAll(e),n.each=(e,t,a)=>n.all(e,a).forEach(t),n.asyncify=async(e,t=document)=>0===e.indexOf("#")?t.getElementById(e.replace("#","")):t.querySelector(e),n.asyncifyAll=async(e,t=document)=>t.querySelectorAll(e),n.asyncifyEach=(e,t,a)=>{n.asyncifyAll(e,a).then((e=>{e.forEach(t)}))},Object.assign(HTMLElement.prototype,{createChild:function(e,t,n){const a=document.createElement(e);switch(Object.assign(a,t),n){case"after":this.insertAfter(a);break;case"replace":this.innerHTML="",this.appendChild(a);break;default:this.appendChild(a)}return a},wrapObject:function(e){const t=document.createElement("div");Object.assign(t,e),this.parentNode.insertBefore(t,this),this.parentNode.removeChild(this),t.appendChild(this)},changeOrGetHeight:function(e){return e&&(this.style.height="number"==typeof e?e+"rem":e),this.getBoundingClientRect().height},changeOrGetWidth:function(e){return e&&(this.style.width="number"==typeof e?e+"rem":e),this.getBoundingClientRect().width},top:function(){return this.getBoundingClientRect().top},left:function(){return this.getBoundingClientRect().left},attr:function(e,t){return null===t?this.removeAttribute(e):t?(this.setAttribute(e,t),this):this.getAttribute(e)},insertAfter:function(e){const t=this.parentNode;t.lastChild===this?t.appendChild(e):t.insertBefore(e,this.nextSibling)},display:function(e){return null==e?this.style.display:(this.style.display=e,this)},child:function(e){return n(e,this)},find:function(e){return n.all(e,this)},_class:function(e,t,n){(t.indexOf(" ")?t.split(" "):[t]).forEach((t=>{"toggle"===e?this.classList.toggle(t,n):this.classList[e](t)}))},addClass:function(e){return this._class("add",e),this},removeClass:function(e){return this._class("remove",e),this},toggleClass:function(e,t){return this._class("toggle",e,t),this},hasClass:function(e){return this.classList.contains(e)}});const a={set:(e,t)=>{localStorage.setItem(e,t)},get:e=>localStorage.getItem(e),del:e=>{localStorage.removeItem(e)}},i=function(e,t,n){if(n)t();else{let n=document.createElement("script");n.onload=function(e,a){!a&&n.readyState||(console.log("abort!"),n.onload=null,n=void 0,!a&&t&&setTimeout(t,0))},n.src=e,document.head.appendChild(n)}},s=function(t,n){const a=e[t][n];return a.indexOf("gh")>-1||a.indexOf("combine")>-1||a.indexOf("npm")>-1?`https://cdn.jsdelivr.net/${a}`:a.indexOf("http")>-1?a:`/${a}`},o=function(e,t,n){LOCAL[e]&&i(s("js",e),t||function(){window[e]=!0},n||window[e])},c=function(e,t){window["css"+e]||LOCAL[e]&&(document.head.createChild("link",{rel:"stylesheet",href:s("css",e)}),window["css"+e]=!0)},r=(e,t,n)=>{let a,i="none";switch(t){case 0:a={opacity:[1,0]};break;case 1:a={opacity:[0,1]},i="block";break;case"bounceUpIn":a={begin:function(t){e.display("block")},translateY:[{value:-60,duration:200},{value:10,duration:200},{value:-5,duration:200},{value:0,duration:200}],opacity:[0,1]},i="block";break;case"shrinkIn":a={begin:function(t){e.display("block")},scale:[{value:1.1,duration:300},{value:1,duration:200}],opacity:1},i="block";break;case"slideRightIn":a={begin:function(t){e.display("block")},translateX:[100,0],opacity:[0,1]},i="block";break;case"slideRightOut":a={translateX:[0,100],opacity:[1,0]};break;default:a=t,i=t.display}anime(Object.assign({targets:e,duration:200,easing:"linear"},a)).finished.then((function(){e.display(i),n&&n()}))},l=function(e){const t=e.text||e.textContent||e.innerHTML||"",n=e.parentNode;n.removeChild(e);const a=document.createElement("script");e.id&&(a.id=e.id),e.className&&(a.className=e.className),e.type&&(a.type=e.type),e.src&&(a.src=e.src,a.async=!1),void 0!==e.dataset.pjax&&(a.dataset.pjax=""),""!==t&&a.appendChild(document.createTextNode(t)),n.appendChild(a)},d=function(e,t,n){const a={targets:"number"==typeof t?e.parentNode:document.scrollingElement,duration:500,easing:"easeInOutQuad",scrollTop:t||("number"==typeof e?e:e?e.top()+document.documentElement.scrollTop-j:0),complete:function(){n&&n()}};anime(a)},u=e.statics.indexOf("//")>0?e.statics:e.root,h={x:0,y:0};let p,f,m=0;const g=document.getElementsByTagName("body")[0],v=document.documentElement,y=n("#container"),b=n("#loading"),w=n("#nav"),C=n("#header"),x=w.child(".toggle"),k=n("#quick"),L=n("#sidebar"),E=n("#brand");let N,T,M,O,j,H,I,A,S=n("#tool"),q=n("#search"),D=window.innerHeight,_=window.innerWidth,P=0,R=window.location.href;const W=function(e){const t=n(".theme .ic");"dark"===e?(v.attr("data-theme",e),t.removeClass("i-sun"),t.addClass("i-moon")):(v.attr("data-theme",null),t.removeClass("i-moon"),t.addClass("i-sun"))},B=function(){e.auto_dark.enable&&((new Date).getHours()>=e.auto_dark.start||(new Date).getHours()<=e.auto_dark.end?W("dark"):W())},z=lozad("img, [data-background-image]",{loaded:function(e){e.addClass("lozaded")}}),G={timer:void 0,lock:!1,show:function(){clearTimeout(this.timer),document.body.removeClass("loaded"),b.attr("style","display:block"),G.lock=!1},hide:function(t){e.loader.start||(t=-1),this.timer=setTimeout(this.vanish,t||3e3)},vanish:function(){G.lock||(e.loader.start&&r(b,0),document.body.addClass("loaded"),G.lock=!0)}},Y=function(e){"dark"===v.attr("data-theme")&&(e="#222"),n('meta[name="theme-color"]').attr("content",e)},X=function(){window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(function(e){e.matches?W("dark"):W()}));const t=a.get("theme");t?W(t):e.darkmode&&W("dark")},F=function(){const t=n('[rel="icon"]');document.addEventListener("visibilitychange",(function(){switch(document.visibilityState){case"hidden":t.attr("href",u+e.favicon.hidden),document.title=LOCAL.favicon.hide,e.loader.switch&&G.show(),clearTimeout(f);break;case"visible":t.attr("href",u+e.favicon.normal),document.title=LOCAL.favicon.show,e.loader.switch&&G.hide(1e3),f=setTimeout((function(){document.title=p}),2e3)}}))},$=function(e){if(!e)return;const t=g.createChild("div",{innerHTML:e,className:"tip"});setTimeout((function(){t.addClass("hide"),setTimeout((function(){g.removeChild(t)}),300)}),3e3)},Q=function(e){j=w.changeOrGetHeight(),H=C.changeOrGetHeight(),I=H+n("#waves").changeOrGetHeight(),_!==window.innerWidth&&he(null,1),D=window.innerHeight,_=window.innerWidth},U=function(e){const t=window.innerHeight,a=n("main > .inner").offsetHeight,i=a>t?a-t:document.body.scrollHeight-t,s=window.scrollY>H,o=window.scrollY>0;Y(s?"#FFF":"#222"),w.toggleClass("show",s),S.toggleClass("affix",o),E.toggleClass("affix",o),L.toggleClass("affix",window.scrollY>I&&document.body.offsetWidth>991),void 0===h.y&&(h.y=window.scrollY),m=h.y-window.scrollY,m<0?(w.removeClass("up"),w.toggleClass("down",s)):m>0&&(w.removeClass("down"),w.toggleClass("up",s)),h.y=window.scrollY;const c=Math.round(Math.min(100*window.scrollY/i,100))+"%";T.child("span").innerText=c,n(".percent").changeOrGetWidth(c)},J=function(){e.auto_scroll&&a.set(R,String(h.y))},V=function(t){const i=window.location.hash;let s=null;P?a.del(R):(s=i?n(decodeURI(i)):e.auto_scroll?parseInt(a.get(R)):0,s&&(d(s),P=1),t&&i&&!P&&(d(s),P=1))},K=function(e,t){if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(e).then((()=>{t&&t(!0)}),(()=>{t&&t(!1)}));else{const n=g.createChild("textarea",{style:{top:window.scrollY+"px",position:"absolute",opacity:"0"},readOnly:!0,value:e}),a=document.getSelection(),i=a.rangeCount>0&&a.getRangeAt(0);n.select(),n.setSelectionRange(0,e.length),n.readOnly=!1;const s=document.execCommand("copy");t&&t(s),n.blur(),i&&(a.removeAllRanges(),a.addRange(i)),g.removeChild(n)}},Z=function(){let t;if(e.outime.enable&&LOCAL.outime){const n=document.getElementsByTagName("time");if(0===n.length)return;const a=document.getElementsByClassName("body md");if(0===a.length)return;const i=Date.now(),s=new Date(n[0].dateTime);t=1===n.length?s:new Date(n[1].dateTime);const o=parseInt(String(i-t));if(o>864e5*(parseInt(String(e.outime.days))||30)){const e=parseInt(String((i-s)/864e5)),t=parseInt(String(o/864e5)),n=LOCAL.template.replace("{{publish}}",String(e)).replace("{{updated}}",String(t));a[0].insertAdjacentHTML("afterbegin",n)}}},ee=function(){const e=n("#clickMenu");window.oncontextmenu=function(t){if(t.ctrlKey)return;t.preventDefault();let a=t.offsetX,i=t.offsetY;const s=window.innerWidth,o=window.innerHeight,c=e.offsetWidth,r=e.offsetHeight;a=s-c>=a?a:s-c,i=o-r>=i?i:o-r,e.style.top=i+"px",e.style.left=a+"px",e.classList.add("active"),n.each(".clickSubmenu",(e=>{a>s-c-e.offsetWidth?e.style.left="-200px":(e.style.left="",e.style.right="-200px")}))},window.addEventListener("click",(function(){e.classList.remove("active")}))},te=function(){if(n(".index.wrap")){if(window.IntersectionObserver){const e=new IntersectionObserver((function(t){t.forEach((function(t){t.target.hasClass("show")?e.unobserve(t.target):(t.isIntersecting||t.intersectionRatio>0)&&(t.target.addClass("show"),e.unobserve(t.target))}))}),{root:null,threshold:[.3]});n.each(".index.wrap article.item, .index.wrap section.item",(function(t){e.observe(t)})),n(".index.wrap .item:first-child").addClass("show")}else n.each(".index.wrap article.item, .index.wrap section.item",(function(e){!1===e.hasClass("show")&&e.addClass("show")}));n.each(".cards .item",(function(e,t){["mouseenter","touchstart"].forEach((function(t){e.addEventListener(t,(function(t){n(".cards .item.active")&&n(".cards .item.active").removeClass("active"),e.addClass("active")}),{passive:!0})})),["mouseleave"].forEach((function(t){e.addEventListener(t,(function(t){e.removeClass("active")}),{passive:!0})}))}))}},ne=function(){n.each("span.exturl",(function(e){const t=document.createElement("a");t.href=decodeURIComponent(atob(e.dataset.url).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")),t.rel="noopener external nofollow noreferrer",t.target="_blank",t.className=e.className,t.title=e.title||e.innerText,t.innerHTML=e.innerHTML,e.dataset.backgroundImage&&(t.dataset.backgroundImage=e.dataset.backgroundImage),e.parentNode.replaceChild(t,e)}))},ae=function(e){n(e+" .md img")&&(c("fancybox"),o("fancybox",(function(){const t=jQuery.noConflict();n.each(e+" p.gallery",(function(e){const t=document.createElement("div");t.className="gallery",t.attr("data-height",e.attr("data-height")||220),t.innerHTML=e.innerHTML.replace(/<br>/g,""),e.parentNode.insertBefore(t,e),e.remove()})),n.each(e+" .md img:not(.emoji):not(.vemoji)",(function(e){const n=t(e),a=n.attr("data-src")||n.attr("src"),i=n.wrap('<a class="fancybox" href="'+a+'" itemscope itemtype="https://schema.org/ImageObject" itemprop="url"></a>').parent("a");let s,o="image-info";if(n.is("a img")||(n.data("safe-src",a),n.is(".gallery img")?o="jg-caption":i.attr("data-fancybox","default").attr("rel","default")),s=e.attr("title")){i.attr("data-caption",s);const t=document.createElement("span"),n=document.createTextNode(s);t.appendChild(n),t.addClass(o),e.insertAfter(t)}})),n.each(e+" div.gallery",(function(e,n){t(e).justifiedGallery({rowHeight:t(e).data("height")||120,rel:"gallery-"+n}).on("jg.complete",(function(){t(this).find("a").each(((e,t)=>{t.attr("data-fancybox","gallery-"+n)}))}))})),t.fancybox.defaults.hash=!1,t(e+" .fancybox").fancybox({loop:!0,helpers:{overlay:{locked:!1}}})}),window.jQuery))},ie=function(){var a;(oe(),n(".md"))&&(n((e=".post.block")+" .md img")&&(c("fancybox"),o("fancybox",(function(){const t=jQuery.noConflict();n.each(e+" p.gallery",(function(e){const t=document.createElement("div");t.className="gallery",t.attr("data-height",e.attr("data-height")||220),t.innerHTML=e.innerHTML.replace(/<br>/g,""),e.parentNode.insertBefore(t,e),e.remove()})),n.each(e+" .md img:not(.emoji):not(.vemoji)",(function(e){const n=t(e),a=n.attr("data-src")||n.attr("src"),i=n.wrap('<a class="fancybox" href="'+a+'" itemscope itemtype="https://schema.org/ImageObject" itemprop="url"></a>').parent("a");let s,o="image-info";if(n.is("a img")||(n.data("safe-src",a),n.is(".gallery img")?o="jg-caption":i.attr("data-fancybox","default").attr("rel","default")),s=e.attr("title")){i.attr("data-caption",s);const t=document.createElement("span"),n=document.createTextNode(s);t.appendChild(n),t.addClass(o),e.insertAfter(t)}})),n.each(e+" div.gallery",(function(e,n){t(e).justifiedGallery({rowHeight:t(e).data("height")||120,rel:"gallery-"+n}).on("jg.complete",(function(){t(this).find("a").each(((e,t)=>{t.attr("data-fancybox","gallery-"+n)}))}))})),t.fancybox.defaults.hash=!1,t(e+" .fancybox").fancybox({loop:!0,helpers:{overlay:{locked:!1}}})}),window.jQuery)),n(".post.block").oncopy=async function(e){if($(LOCAL.copyright),LOCAL.nocopy)return void e.preventDefault();const t=await n.asyncify("#copyright");if(window.getSelection().toString().length>30&&t){e.preventDefault();const n="# "+t.child(".author").innerText,a="# "+t.child(".link").innerText,i="# "+t.child(".license").innerText,s=n+"<br>"+a+"<br>"+i+"<br><br>"+window.getSelection().toString().replace(/\r\n/g,"<br>"),o=n+"\n"+a+"\n"+i+"\n\n"+window.getSelection().toString().replace(/\r\n/g,"\n");if(e.clipboardData)e.clipboardData.setData("text/html",s),e.clipboardData.setData("text/plain",o);else if(window.clipboardData)return window.clipboardData.setData("text",o)}},n.each("li ruby",(function(e){let t=e.parentNode;"LI"!==e.parentNode.tagName&&(t=e.parentNode.parentNode),t.addClass("ruby")})),n.each("ol[start]",(function(e){e.style.counterReset="counter "+parseInt(e.attr("start")-1)})),n.each(".md table",(function(e){e.wrapObject({className:"table-container"})})),n.each(".highlight > .table-container",(function(e){e.className="code-container"})),n.each("figure.highlight",(function(e){const t=e.child(".code-container"),n=e.child("figcaption");e.insertAdjacentHTML("beforeend",'<div class="operation"><span class="breakline-btn"><i class="ic i-align-left"></i></span><span class="copy-btn"><i class="ic i-clipboard"></i></span><span class="fullscreen-btn"><i class="ic i-expand"></i></span></div>');const a=e.child(".copy-btn");LOCAL.nocopy?a.remove():(a.addEventListener("click",(function(e){const n=e.currentTarget;let a="",i="";t.find("pre").forEach((function(e){i+=a+e.innerText,a="\n"})),K(i,(function(e){n.child(".ic").className=e?"ic i-check":"ic i-times",n.blur(),$(LOCAL.copyright)}))}),{passive:!0}),a.addEventListener("mouseleave",(function(e){setTimeout((function(){e.target.child(".ic").className="ic i-clipboard"}),1e3)})));e.child(".breakline-btn").addEventListener("click",(function(t){const n=t.currentTarget;e.hasClass("breakline")?(e.removeClass("breakline"),n.child(".ic").className="ic i-align-left"):(e.addClass("breakline"),n.child(".ic").className="ic i-align-justify")}));const i=e.child(".fullscreen-btn"),s=function(){e.removeClass("fullscreen"),e.scrollTop=0,g.removeClass("fullscreen"),i.child(".ic").className="ic i-expand"},o=function(n){n.currentTarget;if(e.hasClass("fullscreen")){if(s(),t&&t.find("tr").length>15){const e=t.child(".show-btn");t.style.maxHeight="300px",e.removeClass("open")}d(e)}else if(e.addClass("fullscreen"),g.addClass("fullscreen"),i.child(".ic").className="ic i-compress",t&&t.find("tr").length>15){const e=t.child(".show-btn");t.style.maxHeight="",e.addClass("open")}};if(i.addEventListener("click",o),n&&n.addEventListener("click",o),t&&t.find("tr").length>15){t.style.maxHeight="300px",t.insertAdjacentHTML("beforeend",'<div class="show-btn"><i class="ic i-angle-down"></i></div>');const e=t.child(".show-btn"),n=function(){t.style.maxHeight="300px",e.removeClass("open")},a=function(){t.style.maxHeight="",e.addClass("open")};e.addEventListener("click",(function(i){e.hasClass("open")?(s(),n(),d(t)):a()}))}})),n.asyncifyEach("pre.mermaid > svg",(function(e){e.style.maxWidth=""})),n.each(".reward button",(function(e){e.addEventListener("click",(function(e){e.preventDefault();const t=n("#qr");"inline-flex"===t.display()?r(t,0):r(t,1,(function(){t.display("inline-flex")}))}))})),n.asyncifyEach(".quiz > ul.options li",(function(e){e.addEventListener("click",(function(t){e.hasClass("correct")?(e.toggleClass("right"),e.parentNode.parentNode.addClass("show")):e.toggleClass("wrong")}))})),n.asyncifyEach(".quiz > p",(function(e){e.addEventListener("click",(function(t){e.parentNode.toggleClass("show")}))})),n.asyncifyEach(".quiz > p:first-child",(function(e){const t=e.parentNode;let n="choice";(t.hasClass("true")||t.hasClass("false"))&&(n="true_false"),t.hasClass("multi")&&(n="multiple"),t.hasClass("fill")&&(n="gap_fill"),t.hasClass("essay")&&(n="essay"),e.attr("data-type",LOCAL.quiz[n])})),n.asyncifyEach(".quiz .mistake",(function(e){e.attr("data-type",LOCAL.quiz.mistake)})),n.each("div.tags a",(function(e){e.className=["primary","success","info","warning","danger"][Math.floor(5*Math.random())]})),n.asyncifyEach(".md div.player",(function(e){Ce(e,{type:e.attr("data-type"),mode:"order",btns:[]}).player.load(JSON.parse(e.attr("data-src"))).fetch()})))},se=function(){let e;n.each("div.tab",(function(t,a){if(t.attr("data-ready"))return;const i=t.attr("data-id"),s=t.attr("data-title");let o=n("#"+i);if(o)e=!1;else{o=document.createElement("div"),o.className="tabs",o.id=i,o.innerHTML='<div class="show-btn"></div>';o.child(".show-btn").addEventListener("click",(function(e){d(o)})),t.parentNode.insertBefore(o,t),e=!0}let c=o.child(".nav ul");c||(c=o.createChild("div",{className:"nav",innerHTML:"<ul></ul>"}).child("ul"));const r=c.createChild("li",{innerHTML:s});e&&(r.addClass("active"),t.addClass("active")),r.addEventListener("click",(function(e){const n=e.currentTarget;o.find(".active").forEach((function(e){e.removeClass("active")})),t.addClass("active"),n.addClass("active")})),o.appendChild(t),t.attr("data-ready",!0)}))},oe=function(){const e=n("#comments");if(e)if(M.display(""),window.IntersectionObserver){new IntersectionObserver((function(e,t){const a=e[0];c("valine"),(a.isIntersecting||a.intersectionRatio>0)&&(r(n("#comments"),"bounceUpIn"),t.disconnect())})).observe(e)}else c("valine");else M.display("none")},ce=function(t){if(null===e.search)return;q||(q=g.createChild("div",{id:"search",innerHTML:'<div class="inner"><div class="header"><span class="icon"><i class="ic i-search"></i></span><div class="search-input-container"></div><span class="close-btn"><i class="ic i-times-circle"></i></span></div><div class="results"><div class="inner"><div id="search-stats"></div><div id="search-hits"></div><div id="search-pagination"></div></div></div></div>'}));const a=instantsearch({indexName:e.search.indexName,searchClient:algoliasearch(e.search.appID,e.search.apiKey),searchFunction:function(e){n(".search-input").value&&e.search()}});a.on("render",(function(){t.refresh(n("#search-hits"))})),a.addWidgets([instantsearch.widgets.configure({hitsPerPage:e.search.hits.per_page||10}),instantsearch.widgets.searchBox({container:".search-input-container",placeholder:LOCAL.search.placeholder,showReset:!1,showSubmit:!1,showLoadingIndicator:!1,cssClasses:{input:"search-input"}}),instantsearch.widgets.stats({container:"#search-stats",templates:{text:function(e){return LOCAL.search.stats.replace(/\$\{hits}/,e.nbHits).replace(/\$\{time}/,e.processingTimeMS)+'<span class="algolia-powered"></span><hr>'}}}),instantsearch.widgets.hits({container:"#search-hits",templates:{item:function(t){const n=t.categories?"<span>"+t.categories.join('<i class="ic i-angle-right"></i>')+"</span>":"";return'<a href="'+e.root+t.path+'">'+n+t._highlightResult.title.value+"</a>"},empty:function(e){return'<div id="hits-empty">'+LOCAL.search.empty.replace(/\$\{query}/,e.query)+"</div>"}},cssClasses:{item:"item"}}),instantsearch.widgets.pagination({container:"#search-pagination",scrollTo:!1,showFirst:!1,showLast:!1,templates:{first:'<i class="ic i-angle-double-left"></i>',last:'<i class="ic i-angle-double-right"></i>',previous:'<i class="ic i-angle-left"></i>',next:'<i class="ic i-angle-right"></i>'},cssClasses:{root:"pagination",item:"pagination-item",link:"page-number",selectedItem:"current",disabledItem:"disabled-item"}})]),a.start(),n.each(".search",(function(e){e.addEventListener("click",(function(){document.body.style.overflow="hidden",r(q,"shrinkIn",(function(){n(".search-input").focus()}))}))}));const i=function(){document.body.style.overflow="",r(q,0)};q.addEventListener("click",(function(e){e.target===q&&i()})),n(".close-btn").addEventListener("click",i),window.addEventListener("pjax:success",i),window.addEventListener("keyup",(function(e){"Escape"===e.key&&i()}))},re=function(){n.each(".overview .menu > .item",(function(e){w.child(".menu").appendChild(e.cloneNode(!0))})),b.addEventListener("click",G.vanish),x.addEventListener("click",he),n(".dimmer").addEventListener("click",he),k.child(".down").addEventListener("click",ge),k.child(".up").addEventListener("click",me),S||(S=C.createChild("div",{id:"tool",innerHTML:'<div class="item player"></div><div class="item contents"><i class="ic i-list-ol"></i></div><div class="item chat"><i class="ic i-comments"></i></div><div class="item back-to-top"><i class="ic i-arrow-up"></i><span>0%</span></div>'})),N=S.child(".player"),T=S.child(".back-to-top"),M=S.child(".chat"),O=S.child(".contents"),T.addEventListener("click",me),M.addEventListener("click",ve),O.addEventListener("click",he),void 0!==Ce&&(Ce(N),n("main").addEventListener("click",(function(){N.player.mini()})))},le=function(){J(),L.hasClass("on")&&r(L,(function(){L.removeClass("on"),x.removeClass("close")}));const e=n("#main");e.innerHTML="",e.appendChild(b.lastChild.cloneNode(!0)),d(0)},de=function(t){var a;P=0,R=window.location.href,c("katex"),o("copy_tex"),c("mermaid"),o("chart"),1!==t&&n.each("script[data-pjax]",l),p=document.title,Q(),ye(),pe(),fe(),n.each("span.exturl",(function(e){const t=document.createElement("a");t.href=decodeURIComponent(atob(e.dataset.url).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")),t.rel="noopener external nofollow noreferrer",t.target="_blank",t.className=e.className,t.title=e.title||e.innerText,t.innerHTML=e.innerHTML,e.dataset.backgroundImage&&(t.dataset.backgroundImage=e.dataset.backgroundImage),e.parentNode.replaceChild(t,e)})),oe(),n(".md")&&(n((a=".post.block")+" .md img")&&(c("fancybox"),o("fancybox",(function(){const e=jQuery.noConflict();n.each(a+" p.gallery",(function(e){const t=document.createElement("div");t.className="gallery",t.attr("data-height",e.attr("data-height")||220),t.innerHTML=e.innerHTML.replace(/<br>/g,""),e.parentNode.insertBefore(t,e),e.remove()})),n.each(a+" .md img:not(.emoji):not(.vemoji)",(function(t){const n=e(t),a=n.attr("data-src")||n.attr("src"),i=n.wrap('<a class="fancybox" href="'+a+'" itemscope itemtype="https://schema.org/ImageObject" itemprop="url"></a>').parent("a");let s,o="image-info";if(n.is("a img")||(n.data("safe-src",a),n.is(".gallery img")?o="jg-caption":i.attr("data-fancybox","default").attr("rel","default")),s=t.attr("title")){i.attr("data-caption",s);const e=document.createElement("span"),n=document.createTextNode(s);e.appendChild(n),e.addClass(o),t.insertAfter(e)}})),n.each(a+" div.gallery",(function(t,n){e(t).justifiedGallery({rowHeight:e(t).data("height")||120,rel:"gallery-"+n}).on("jg.complete",(function(){e(this).find("a").each(((e,t)=>{t.attr("data-fancybox","gallery-"+n)}))}))})),e.fancybox.defaults.hash=!1,e(a+" .fancybox").fancybox({loop:!0,helpers:{overlay:{locked:!1}}})}),window.jQuery)),n(".post.block").oncopy=async function(e){if($(LOCAL.copyright),LOCAL.nocopy)return void e.preventDefault();const t=await n.asyncify("#copyright");if(window.getSelection().toString().length>30&&t){e.preventDefault();const n="# "+t.child(".author").innerText,a="# "+t.child(".link").innerText,i="# "+t.child(".license").innerText,s=n+"<br>"+a+"<br>"+i+"<br><br>"+window.getSelection().toString().replace(/\r\n/g,"<br>"),o=n+"\n"+a+"\n"+i+"\n\n"+window.getSelection().toString().replace(/\r\n/g,"\n");if(e.clipboardData)e.clipboardData.setData("text/html",s),e.clipboardData.setData("text/plain",o);else if(window.clipboardData)return window.clipboardData.setData("text",o)}},n.each("li ruby",(function(e){let t=e.parentNode;"LI"!==e.parentNode.tagName&&(t=e.parentNode.parentNode),t.addClass("ruby")})),n.each("ol[start]",(function(e){e.style.counterReset="counter "+parseInt(e.attr("start")-1)})),n.each(".md table",(function(e){e.wrapObject({className:"table-container"})})),n.each(".highlight > .table-container",(function(e){e.className="code-container"})),n.each("figure.highlight",(function(e){const t=e.child(".code-container"),n=e.child("figcaption");e.insertAdjacentHTML("beforeend",'<div class="operation"><span class="breakline-btn"><i class="ic i-align-left"></i></span><span class="copy-btn"><i class="ic i-clipboard"></i></span><span class="fullscreen-btn"><i class="ic i-expand"></i></span></div>');const a=e.child(".copy-btn");LOCAL.nocopy?a.remove():(a.addEventListener("click",(function(e){const n=e.currentTarget;let a="",i="";t.find("pre").forEach((function(e){i+=a+e.innerText,a="\n"})),K(i,(function(e){n.child(".ic").className=e?"ic i-check":"ic i-times",n.blur(),$(LOCAL.copyright)}))}),{passive:!0}),a.addEventListener("mouseleave",(function(e){setTimeout((function(){e.target.child(".ic").className="ic i-clipboard"}),1e3)}))),e.child(".breakline-btn").addEventListener("click",(function(t){const n=t.currentTarget;e.hasClass("breakline")?(e.removeClass("breakline"),n.child(".ic").className="ic i-align-left"):(e.addClass("breakline"),n.child(".ic").className="ic i-align-justify")}));const i=e.child(".fullscreen-btn"),s=function(){e.removeClass("fullscreen"),e.scrollTop=0,g.removeClass("fullscreen"),i.child(".ic").className="ic i-expand"},o=function(n){if(n.currentTarget,e.hasClass("fullscreen")){if(s(),t&&t.find("tr").length>15){const e=t.child(".show-btn");t.style.maxHeight="300px",e.removeClass("open")}d(e)}else if(e.addClass("fullscreen"),g.addClass("fullscreen"),i.child(".ic").className="ic i-compress",t&&t.find("tr").length>15){const e=t.child(".show-btn");t.style.maxHeight="",e.addClass("open")}};if(i.addEventListener("click",o),n&&n.addEventListener("click",o),t&&t.find("tr").length>15){t.style.maxHeight="300px",t.insertAdjacentHTML("beforeend",'<div class="show-btn"><i class="ic i-angle-down"></i></div>');const e=t.child(".show-btn"),n=function(){t.style.maxHeight="300px",e.removeClass("open")},a=function(){t.style.maxHeight="",e.addClass("open")};e.addEventListener("click",(function(i){e.hasClass("open")?(s(),n(),d(t)):a()}))}})),n.asyncifyEach("pre.mermaid > svg",(function(e){e.style.maxWidth=""})),n.each(".reward button",(function(e){e.addEventListener("click",(function(e){e.preventDefault();const t=n("#qr");"inline-flex"===t.display()?r(t,0):r(t,1,(function(){t.display("inline-flex")}))}))})),n.asyncifyEach(".quiz > ul.options li",(function(e){e.addEventListener("click",(function(t){e.hasClass("correct")?(e.toggleClass("right"),e.parentNode.parentNode.addClass("show")):e.toggleClass("wrong")}))})),n.asyncifyEach(".quiz > p",(function(e){e.addEventListener("click",(function(t){e.parentNode.toggleClass("show")}))})),n.asyncifyEach(".quiz > p:first-child",(function(e){const t=e.parentNode;let n="choice";(t.hasClass("true")||t.hasClass("false"))&&(n="true_false"),t.hasClass("multi")&&(n="multiple"),t.hasClass("fill")&&(n="gap_fill"),t.hasClass("essay")&&(n="essay"),e.attr("data-type",LOCAL.quiz[n])})),n.asyncifyEach(".quiz .mistake",(function(e){e.attr("data-type",LOCAL.quiz.mistake)})),n.each("div.tags a",(function(e){e.className=["primary","success","info","warning","danger"][Math.floor(5*Math.random())]})),n.asyncifyEach(".md div.player",(function(e){Ce(e,{type:e.attr("data-type"),mode:"order",btns:[]}).player.load(JSON.parse(e.attr("data-src"))).fetch()}))),se(),void 0!==Ce&&N.player.load(LOCAL.audio||e.audio||{}),G.hide(),setTimeout((function(){V()}),500),te(),z.observe(),Z()},ue=function(){n.each(".overview .menu > .item",(function(e){w.child(".menu").appendChild(e.cloneNode(!0))})),b.addEventListener("click",G.vanish),x.addEventListener("click",he),n(".dimmer").addEventListener("click",he),k.child(".down").addEventListener("click",ge),k.child(".up").addEventListener("click",me),S||(S=C.createChild("div",{id:"tool",innerHTML:'<div class="item player"></div><div class="item contents"><i class="ic i-list-ol"></i></div><div class="item chat"><i class="ic i-comments"></i></div><div class="item back-to-top"><i class="ic i-arrow-up"></i><span>0%</span></div>'})),N=S.child(".player"),T=S.child(".back-to-top"),M=S.child(".chat"),O=S.child(".contents"),T.addEventListener("click",me),M.addEventListener("click",ve),O.addEventListener("click",he),void 0!==Ce&&(Ce(N),n("main").addEventListener("click",(function(){N.player.mini()}))),A=new Pjax({selectors:["head title",".languages",".twikoo",".pjax",".leancloud-recent-comment","script[data-config]"],analytics:!1,cacheBust:!1}),e.quicklink.ignores=LOCAL.ignores,quicklink.listen(e.quicklink),e.auto_dark.enable&&((new Date).getHours()>=e.auto_dark.start||(new Date).getHours()<=e.auto_dark.end?W("dark"):W()),e.disableVL||F(),X(),ce(A),window.addEventListener("scroll",U),window.addEventListener("resize",Q),window.addEventListener("pjax:send",le),window.addEventListener("pjax:success",de),window.addEventListener("beforeunload",(function(){J()})),de(1)};window.addEventListener("DOMContentLoaded",ue,{passive:!0}),console.log("%c Theme.ShokaX v"+e.version+" %c https://github.com/zkz098/hexo-theme-shokaX ","color: white; background: #e9546b; padding:5px 0;","padding:4px;border:1px solid #e9546b;"),console.log("%c by kaitaku %c https://www.kaitaku.xyz","color: white; background: #00bfff; padding: 5px 3px;","padding: 4px;border:1px solid #00bfff"),Vue.createApp({data:()=>({}),methods:{changeThemeByBtn(){let e;const t=n(".theme").child(".ic"),i=g.createChild("div",{id:"neko",innerHTML:'<div class="planet"><div class="sun"></div><div class="moon"></div></div><div class="body"><div class="face"><section class="eyes left"><span class="pupil"></span></section><section class="eyes right"><span class="pupil"></span></section><span class="nose"></span></div></div>'}),s=function(){r(i,{delay:2500,opacity:0},(function(){g.removeChild(i)}))};t.hasClass("i-sun")?e=function(){i.addClass("dark"),W("dark"),a.set("theme","dark"),s()}:(i.addClass("dark"),e=function(){i.removeClass("dark"),W(),a.set("theme","light"),s()}),r(i,1,(function(){setTimeout(e,210)}))}}}).mount("#rightNav");const he=function(e,t){L.hasClass("on")?(L.removeClass("on"),x.removeClass("close"),t?L.style="":r(L,"slideRightOut")):t?L.style="":r(L,"slideRightIn",(function(){L.addClass("on"),x.addClass("close")}))},pe=function(){const e=L.child(".inner");L.find(".panel");L.child(".tab")&&e.removeChild(L.child(".tab"));const t=document.createElement("ul");let n="active";t.className="tab",["contents","related","overview"].forEach((function(e){const a=L.child(".panel."+e);if(a.innerHTML.replace(/(^\s*)|(\s*$)/g,"").length<1)return void("contents"===e&&O.display("none"));"contents"===e&&O.display("");const i=document.createElement("li"),s=document.createElement("span"),o=document.createTextNode(a.attr("data-title"));s.appendChild(o),i.appendChild(s),i.addClass(e+" item"),n?(a.addClass(n),i.addClass(n)):a.removeClass("active"),i.addEventListener("click",(function(e){const t=e.currentTarget;t.hasClass("active")||(L.find(".tab .item").forEach((function(e){e.removeClass("active")})),L.find(".panel").forEach((function(e){e.removeClass("active")})),L.child(".panel."+t.className.replace(" item","")).addClass("active"),t.addClass("active"))})),t.appendChild(i),n=""})),t.childNodes.length>1?(e.insertBefore(t,e.childNodes[0]),L.child(".panels").style.paddingTop=""):L.child(".panels").style.paddingTop=".625rem"},fe=function(){const t=function(e,t){const s=a[e];if(!s)return;if(s.hasClass("current"))return;n.each(".toc .active",(function(e){e&&e.removeClass("active current")})),i.forEach((function(e){e&&e.removeClass("active")})),s.addClass("active current"),i[e]&&i[e].addClass("active");let c=s.parentNode;for(;!c.matches(".contents");){if(c.matches("li")){c.addClass("active");const e=n(c.child("a.toc-link").attr("href"));e&&e.addClass("active")}c=c.parentNode}"none"!==getComputedStyle(L).display&&o.hasClass("active")&&d(o,s.offsetTop-o.offsetHeight/4)},a=n.all(".contents li");if(a.length<1)return;let i=Array.prototype.slice.call(a)||[],s=null;i=i.map((function(a,i){const o=a.child("a.toc-link"),c=n(decodeURI(o.attr("href")));if(!c)return null;const r=c.child("a.anchor"),l=function(e){e.preventDefault();const a=n(decodeURI(e.currentTarget.attr("href")));s=i,d(a,null,(function(){t(i),s=null}))};return o.addEventListener("click",l),r&&r.addEventListener("click",(function(t){l(t),K(e.hostname+"/"+LOCAL.path+t.currentTarget.attr("href"))})),c}));const o=L.child(".contents.panel");!function(){if(!window.IntersectionObserver)return;const e=new IntersectionObserver((function(e,n){const a=function(e){let t=0,n=e[t];if(n.boundingClientRect.top>0)return t=i.indexOf(n.target),0===t?0:t-1;for(;t<e.length;t++){if(!(e[t].boundingClientRect.top<=0))return i.indexOf(n.target);n=e[t]}return i.indexOf(n.target)}(e)+(m<0?1:0);null===s&&t(a)}),{rootMargin:"0px 0px -100% 0px",threshold:0});i.forEach((function(t){t&&e.observe(t)}))}()},me=function(){d(0)},ge=function(){d(parseInt(String(y.changeOrGetHeight())))},ve=function(){d(n("#comments"))},ye=function(){n.each(".menu .item:not(.title)",(function(t){const n=t.child("a[href]"),a=t.parentNode.parentNode;if(!n)return;const i=n.pathname===location.pathname||n.pathname===location.pathname.replace("index.html",""),s=!e.root.startsWith(n.pathname)&&location.pathname.startsWith(n.pathname),o=n.hostname===location.hostname&&(i||s);t.toggleClass("active",o),t.parentNode.child(".active")&&a.hasClass("dropdown")?a.removeClass("active").addClass("expand"):a.removeClass("expand")}))};let be=null;const we=/mobile/i.test(window.navigator.userAgent),Ce=function(t,i){const s={el:{},create:function(){t.player.options.btns&&t.player.options.btns.forEach((function(e){s.el[e]||(s.el[e]=t.createChild("div",{className:e+" btn",onclick:function(n){t.player.fetch().then((function(){t.player.options.events[e](n)}))}}))}))}},o={el:null,btns:{mode:void 0,volume:void 0},step:"next",create:()=>{if(!t.player.options.controls)return;const e=o;t.player.options.controls.forEach((function(n){if(e.btns[n])return;const a={onclick:function(a){e.events[n]?e.events[n](a):t.player.options.events[n](a)}};switch(n){case"volume":a.className=" "+(l.muted?"off":"on"),a.innerHTML='<div class="bar"></div>',a["on"+m.nameMap.dragStart]=e.events.volume,a.onclick=null;break;case"mode":a.className=" "+t.player.options.mode;break;default:a.className=""}a.className=n+a.className+" btn",e.btns[n]=e.el.createChild("div",a)})),e.btns.volume.bar=e.btns.volume.child(".bar")},events:{mode:function(e){switch(t.player.options.mode){case"loop":t.player.options.mode="random";break;case"random":t.player.options.mode="order";break;default:t.player.options.mode="loop"}o.btns.mode.className="mode "+t.player.options.mode+" btn",a.set("_PlayerMode",t.player.options.mode)},volume:function(e){e.preventDefault();const n=e.currentTarget;let a=!1;const i=function(e){e.preventDefault(),t.player.volume(o.percent(e,n)),a=!0},s=function(e){e.preventDefault(),n.removeEventListener(m.nameMap.dragEnd,s),n.removeEventListener(m.nameMap.dragMove,i),a?(t.player.muted(),t.player.volume(o.percent(e,n))):l.muted?(t.player.muted(),t.player.volume(l.volume)):(t.player.muted("muted"),o.update(0))};n.addEventListener(m.nameMap.dragMove,i),n.addEventListener(m.nameMap.dragEnd,s)},backward:function(e){o.step="prev",t.player.mode()},forward:function(e){o.step="next",t.player.mode()}},update:function(e){o.btns.volume.className="volume "+(!l.muted&&e>0?"on":"off")+" btn",o.btns.volume.bar.changeOrGetWidth(Math.floor(100*e)+"%")},percent:function(e,t){let n=((e.clientX||e.changedTouches[0].clientX)-t.left())/t.changeOrGetWidth();return n=Math.max(n,0),Math.min(n,1)}},c={el:null,bar:null,create:function(){const e=u.current().el;e&&(c.el&&(c.el.parentNode.removeClass("current").removeEventListener(m.nameMap.dragStart,c.drag),c.el.remove()),c.el=e.createChild("div",{className:"progress"}),c.el.attr("data-dtime",m.secondToTime(0)),c.bar=c.el.createChild("div",{className:"bar"}),e.addClass("current"),e.addEventListener(m.nameMap.dragStart,c.drag),u.scroll())},update:function(e){c.bar.changeOrGetWidth(Math.floor(100*e)+"%"),c.el.attr("data-ptime",m.secondToTime(e*l.duration))},seeking:function(e){e?c.el.addClass("seeking"):c.el.removeClass("seeking")},percent:function(e,t){let n=((e.clientX||e.changedTouches[0].clientX)-t.left())/t.changeOrGetWidth();return n=Math.max(n,0),Math.min(n,1)},drag:function(e){e.preventDefault();const n=u.current().el,a=function(e){e.preventDefault();const t=c.percent(e,n);c.update(t),g.update(t*l.duration)},i=function(e){e.preventDefault(),n.removeEventListener(m.nameMap.dragEnd,i),n.removeEventListener(m.nameMap.dragMove,a);const s=c.percent(e,n);c.update(s),t.player.seek(s*l.duration),l.disableTimeupdate=!1,c.seeking(!1)};l.disableTimeupdate=!0,c.seeking(!0),n.addEventListener(m.nameMap.dragMove,a),n.addEventListener(m.nameMap.dragEnd,i)}},r={el:null,create:function(){const e=u.current();r.el.innerHTML='<div class="cover"><div class="disc"><img src="'+e.cover+'" class="blur"  alt="music cover"/></div></div><div class="info"><h4 class="title">'+e.name+"</h4><span>"+e.artist+'</span><div class="lrc"></div></div>',r.el.child(".cover").addEventListener("click",t.player.options.events["play-pause"]),g.create(r.el.child(".lrc"))}};let l;const u={el:null,data:[],index:-1,errnum:0,add:(e,t)=>{t.forEach((function(t,n){t.group=e,t.name=t.name||t.title||"Meida name",t.artist=t.artist||t.author||"Anonymous",t.cover=t.cover||t.pic,t.type=t.type||"normal",u.data.push(t)}))},clear:function(){u.data=[],u.el.innerHTML="",-1!==u.index&&(u.index=-1,t.player.fetch())},create:function(){const e=u.el;u.data.map((function(a,i){if(a.el)return null;const s="list-"+t.player._id+"-"+a.group;let o=n("#"+s);return o||(o=e.createChild("div",{id:s,className:t.player.group?"tab":"",innerHTML:"<ol></ol>"}),t.player.group&&o.attr("data-title",t.player.options.rawList[a.group].title).attr("data-id",t.player._id)),a.el=o.child("ol").createChild("li",{title:a.name+" - "+a.artist,innerHTML:'<span class="info"><span>'+a.name+"</span><span>"+a.artist+"</span></span>",onclick:function(e){const n=e.currentTarget;u.index===i&&c.el?l.paused?t.player.play():t.player.seek(l.duration*c.percent(e,n)):(t.player.switch(i),t.player.play())}}),a})),se()},current:function(){return this.data[this.index]},scroll:function(){const e=this.current();let t=this.el.child("li.active");t&&t.removeClass("active");let n=this.el.child(".tab.active");return n&&n.removeClass("active"),t=this.el.find(".nav li")[e.group],t&&t.addClass("active"),n=this.el.find(".tab")[e.group],n&&n.addClass("active"),d(e.el,e.el.offsetTop),this},title:function(){if(l.paused)return;const e=this.current();document.title="Now Playing..."+e.name+" - "+e.artist+" | "+p},error:function(){const e=this.current();e.el.removeClass("current").addClass("error"),e.error=!0,this.errnum++}},h={el:null,create:function(){this.el||(this.el=t.createChild("div",{className:"player-info",innerHTML:("audio"===t.player.options.type?'<div class="preview"></div>':"")+'<div class="controller"></div><div class="playlist"></div>'},"after"),r.el=this.el.child(".preview"),u.el=this.el.child(".playlist"),o.el=this.el.child(".controller"))},hide:function(){const e=this.el;e.addClass("hide"),window.setTimeout((function(){e.removeClass("show hide")}),300)}},f={type:"audio",mode:"random",btns:["play-pause","music"],controls:["mode","backward","play-pause","forward","volume"],events:{"play-pause":function(e){l.paused?t.player.play():t.player.pause()},music:function(e){h.el.hasClass("show")?h.hide():(h.el.addClass("show"),u.scroll().title())}}},m={random:function(e){return Math.floor(Math.random()*e)},parse:function(e){let t=[];return[["music.163.com.*song.*id=(\\d+)","netease","song"],["music.163.com.*album.*id=(\\d+)","netease","album"],["music.163.com.*artist.*id=(\\d+)","netease","artist"],["music.163.com.*playlist.*id=(\\d+)","netease","playlist"],["music.163.com.*discover/toplist.*id=(\\d+)","netease","playlist"],["y.qq.com.*song/(\\w+).html","tencent","song"],["y.qq.com.*album/(\\w+).html","tencent","album"],["y.qq.com.*singer/(\\w+).html","tencent","artist"],["y.qq.com.*playsquare/(\\w+).html","tencent","playlist"],["y.qq.com.*playlist/(\\w+).html","tencent","playlist"],["xiami.com.*song/(\\w+)","xiami","song"],["xiami.com.*album/(\\w+)","xiami","album"],["xiami.com.*artist/(\\w+)","xiami","artist"],["xiami.com.*collect/(\\w+)","xiami","playlist"]].forEach((function(n){const a=new RegExp(n[0]).exec(e);null!==a&&(t=[n[1],n[2],a[1]])})),t},fetch:function(t){const n=[];return new Promise((function(i,s){t.forEach((function(t){const s=m.parse(t);if(s[0]){const t=JSON.stringify(s),o=a.get(t);o?(n.push(...JSON.parse(o)),i(n)):fetch(`${e.playerAPI}/meting/?server=`+s[0]+"&type="+s[1]+"&id="+s[2]+"&r="+Math.random()).then((function(e){return e.json()})).then((function(e){a.set(t,JSON.stringify(e)),n.push(...e),i(n)})).catch((e=>{}))}else n.push(t),i(n)}))}))},secondToTime:function(e){const t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),a=Math.floor(e-3600*t-60*n);return(t>0?[t,n,a]:[n,a]).map((function(e){return isNaN(e)?"00":e<10?"0"+e:""+e})).join(":")},nameMap:{dragStart:we?"touchstart":"mousedown",dragMove:we?"touchmove":"mousemove",dragEnd:we?"touchend":"mouseup"}};l=null,t.player={_id:m.random(999999),group:!0,load:function(e){let t="";e&&e.length>0?this.options.rawList!==e&&(this.options.rawList=e,u.clear(),this.fetch()):(t="none",this.pause());for(const e in s.el)s.el[e].display(t);return this},fetch:function(){return new Promise(((e,t)=>{if(u.data.length>0)e(!0);else if(this.options.rawList){const t=[];this.options.rawList.forEach((function(e,n){t.push(new Promise((function(t,a){let i,s=n;e.list?(this.group=!0,i=e.list):(s=0,this.group=!1,i=[e]),m.fetch(i).then((function(e){u.add(s,e),t(0)}))})))})),Promise.all(t).then((function(){e(!0)}))}})).then((e=>{e&&(u.create(),o.create(),this.mode())}))},mode:function(){const e=u.data.length;if(!e||u.errnum===e)return;const t="next"===o.step?1:-1,n=function(){let n=u.index+t;(n>e||n<0)&&(n="next"===o.step?0:e-1),u.index=n},a=function(){const t=m.random(e);u.index!==t?u.index=t:n()};switch(this.options.mode){case"random":a();break;case"order":n();break;case"loop":o.step&&n(),-1===u.index&&a()}this.init()},switch:function(e){"number"==typeof e&&e!==u.index&&u.current()&&!u.current().error&&(u.index=e,this.init())},init:()=>{const e=u.current();if(!e||e.error)return void this.mode();let t=!1;l.paused||(t=!0,this.stop()),l.attr("src",e.url),l.attr("title",e.name+" - "+e.artist),this.volume(a.get("_PlayerVolume")||"0.7"),this.muted(a.get("_PlayerMuted")),c.create(),"audio"===this.options.type&&r.create(),!0===t&&this.play()},play:function(){be&&be.player.pause(),u.current().error?this.mode():l.play().then((function(){u.scroll()})).catch((function(e){}))},pause:function(){l.pause(),document.title=p},stop:function(){l.pause(),l.currentTime=0,document.title=p},seek:function(e){e=Math.max(e,0),e=Math.min(e,l.duration),l.currentTime=e,c.update(e/l.duration)},muted:function(e){"muted"===e?(l.muted=e,a.set("_PlayerMuted",e),o.update(0)):(a.del("_PlayerMuted"),l.muted=!1,o.update(l.volume))},volume:function(e){isNaN(e)||(o.update(e),a.set("_PlayerVolume",e),l.volume=e)},mini:function(){h.hide()}};const g={el:null,data:null,index:0,create:e=>{const t=u.index,n=u.current().lrc,a=function(n){if(t!==u.index)return;this.data=this.parse(n);let a="";this.data.forEach((function(e,t){a+="<p"+(0===t?' class="current"':"")+">"+e[1]+"</p>"})),this.el=e.createChild("div",{className:"inner",innerHTML:a},"replace"),this.index=0};n.startsWith("http")?this.fetch(n,a):a(n)},update:function(e){if(this.data&&(this.index>this.data.length-1||e<this.data[this.index][0]||!this.data[this.index+1]||e>=this.data[this.index+1][0]))for(let t=0;t<this.data.length;t++)if(e>=this.data[t][0]&&(!this.data[t+1]||e<this.data[t+1][0])){this.index=t;const e=-(this.index-1);this.el.style.transform="translateY("+e+"rem)",this.el.getElementsByClassName("current")[0].removeClass("current"),this.el.getElementsByTagName("p")[t].addClass("current")}},parse:function(e){if(e){const t=(e=e.replace(/([^\]^\n])\[/g,(function(e,t){return t+"\n["}))).split("\n");let n=[];const a=t.length;for(let e=0;e<a;e++){const a=t[e].match(/\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/g),i=t[e].replace(/.*\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/g,"").replace(/<(\d{2}):(\d{2})(\.(\d{2,3}))?>/g,"").replace(/^\s+|\s+$/g,"");if(a){const e=a.length;for(let t=0;t<e;t++){const e=/\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/.exec(a[t]),s=60*e[1]+parseInt(e[2])+(e[4]?parseInt(e[4])/(2===(e[4]+"").length?100:1e3):0);n.push([s,i])}}}return n=n.filter((function(e){return e[1]})),n.sort((function(e,t){return e[0]-t[0]})),n}return[]},fetch:function(e,t){fetch(e).then((function(e){return e.text()})).then((function(e){t(e)})).catch((function(e){}))}},v={onerror:function(){u.error(),t.player.mode()},ondurationchange:function(){1!==l.duration&&c.el.attr("data-dtime",m.secondToTime(l.duration))},onloadedmetadata:function(){t.player.seek(0),c.el.attr("data-dtime",m.secondToTime(l.duration))},onplay:function(){t.parentNode.addClass("playing"),$(this.attr("title")),be=t},onpause:function(){t.parentNode.removeClass("playing"),be=null},ontimeupdate:function(){this.disableTimeupdate||(c.update(this.currentTime/this.duration),g.update(this.currentTime))},onended:function(e){t.player.mode(),t.player.play()}};return function(e){t.player.created||(t.player.options=Object.assign(f,e),t.player.options.mode=a.get("_PlayerMode")||t.player.options.mode,s.create(),l=t.createChild(t.player.options.type,v),h.create(),t.parentNode.addClass(t.player.options.type),t.player.created=!0)}(i),t},xe=document.createElement("canvas");xe.style.cssText="position:fixed;top:0;left:0;pointer-events:none;z-index:9999999",document.body.appendChild(xe);const ke=xe.getContext("2d"),Le=30;let Ee=0,Ne=0;const Te="click",Me=e.fireworks;function Oe(){xe.width=2*window.innerWidth,xe.height=2*window.innerHeight,xe.style.width=window.innerWidth+"px",xe.style.height=window.innerHeight+"px",xe.getContext("2d").scale(2,2)}function je(e){Ee=e.clientX||e.touches&&e.touches[0].clientX,Ne=e.clientY||e.touches&&e.touches[0].clientY}function He(e){const t=anime.random(0,360)*Math.PI/180,n=anime.random(50,180),a=[-1,1][anime.random(0,1)]*n;return{x:e.x+a*Math.cos(t),y:e.y+a*Math.sin(t)}}function Ie(e,t){const n={x:void 0,y:void 0,color:void 0,radius:void 0,endPos:void 0,draw:void 0};return n.x=e,n.y=t,n.color=Me[anime.random(0,Me.length-1)],n.radius=anime.random(16,32),n.endPos=He(n),n.draw=function(){ke.beginPath(),ke.arc(n.x,n.y,n.radius,0,2*Math.PI,!0),ke.fillStyle=n.color,ke.fill()},n}function Ae(e,t){const n={x:void 0,y:void 0,color:void 0,radius:void 0,endPos:void 0,alpha:void 0,lineWidth:void 0,draw:void 0};return n.x=e,n.y=t,n.color="#FFF",n.radius=.1,n.alpha=.5,n.lineWidth=6,n.draw=function(){ke.globalAlpha=n.alpha,ke.beginPath(),ke.arc(n.x,n.y,n.radius,0,2*Math.PI,!0),ke.lineWidth=n.lineWidth,ke.strokeStyle=n.color,ke.stroke(),ke.globalAlpha=1},n}function Se(e){for(let t=0;t<e.animatables.length;t++)e.animatables[t].target.draw()}function qe(e,t){const n=Ae(e,t),a=[];for(let n=0;n<Le;n++)a.push(Ie(e,t));anime.timeline().add({targets:a,x:function(e){return e.endPos.x},y:function(e){return e.endPos.y},radius:.1,duration:anime.random(1200,1800),easing:"easeOutExpo",update:Se}).add({targets:n,radius:anime.random(80,160),lineWidth:0,alpha:{value:0,easing:"linear",duration:anime.random(600,800)},duration:anime.random(1200,1800),easing:"easeOutExpo",update:Se},0)}const De=anime({duration:1/0,update:function(){ke.clearRect(0,0,xe.width,xe.height)}});document.addEventListener(Te,(function(e){De.play(),je(e),qe(Ee,Ne)}),!1),Oe(),window.addEventListener("resize",Oe,!1);
//rebuild by hexo-renderer-multi-next-markdown-it 